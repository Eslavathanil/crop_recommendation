<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop & Fertilizer Prediction</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
        .container {
            max-width: 500px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 2px 2px 12px rgba(0,0,0,0.1);
        }
        input {
            width: 90%;
            padding: 8px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .result {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .error {
            color: red;
        }
    </style>
    <script>
        function validateForm() {
            let N = parseFloat(document.forms["cropForm"]["N"].value);
            let P = parseFloat(document.forms["cropForm"]["P"].value);
            let K = parseFloat(document.forms["cropForm"]["K"].value);
            let temperature = parseFloat(document.forms["cropForm"]["temperature"].value);
            let humidity = parseFloat(document.forms["cropForm"]["humidity"].value);
            let ph = parseFloat(document.forms["cropForm"]["ph"].value);
            let rainfall = parseFloat(document.forms["cropForm"]["rainfall"].value);

            if (N < 0 || N > 100) {
                alert("Nitrogen must be between 0 and 100.");
                return false;
            }
            if (P < 0 || P > 100) {
                alert("Phosphorus must be between 0 and 100.");
                return false;
            }
            if (K < 0 || K > 100) {
                alert("Potassium must be between 0 and 100.");
                return false;
            }
            if (temperature < 0 || temperature > 100) {
                alert("Temperature must be between 0 and 100.");
                return false;
            }
            if (humidity < 0 || humidity > 100) {
                alert("Humidity must be between 0 and 100.");
                return false;
            }
            if (ph < 0 || ph > 14) {
                alert("pH value must be between 0 and 14.");
                return false;
            }
            if (rainfall < 0 || rainfall > 100) {
                alert("Rainfall must be between 0 and 100.");
                return false;
            }
            return true;
        }
    </script>
</head>
<body>
    <div class="container">
        <h2>Enter Soil Parameters</h2>
        <form name="cropForm" method="POST" onsubmit="return validateForm()">
            <input type="number" name="N" placeholder="Nitrogen (0-100)" required min="0" max="100" step="0.01">
            <input type="number" name="P" placeholder="Phosphorus (0-100)" required min="0" max="100" step="0.01">
            <input type="number" name="K" placeholder="Potassium (0-100)" required min="0" max="100" step="0.01">
            <input type="number" name="temperature" placeholder="Temperature (0-100)" required min="0" max="100" step="0.01">
            <input type="number" name="humidity" placeholder="Humidity (0-100)" required min="0" max="100" step="0.01">
            <input type="number" name="ph" placeholder="pH Value (0-14)" required min="0" max="14" step="0.01">
            <input type="number" name="rainfall" placeholder="Rainfall (0-100)" required min="0" max="100" step="0.01">
            <button type="submit">Predict</button>
        </form>

        {% if crop_prediction %}
        <div class="result">Predicted Crop: {{ crop_prediction }}</div>
        <div class="result">Recommended Fertilizer: {{ fertilizer_prediction }}</div>
        {% endif %}

        {% if error %}
        <div class="error">Error: {{ error }}</div>
        {% endif %}
    </div>
</body>
</html>
